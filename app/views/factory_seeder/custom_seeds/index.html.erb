<div class="page-shell">
  <div class="scanlines"></div>
  <div class="grid-background"></div>
  <div class="page-content">
    <header class="section-title">Custom Seeds (<%= @seeds.count %>)</header>

    <% if flash[:success] %>
      <div class="alert-message alert-message--success"><%= flash[:success] %></div>
    <% end %>

    <% if flash[:error] %>
      <div class="alert-message alert-message--error"><%= flash[:error] %></div>
    <% end %>

    <% if @seeds.empty? %>
      <div class="alert-message alert-message--info">
        No custom seed files detected. Drop your Ruby seed scripts under <code>db/seeds</code>
        or configure them via the FactorySeeder DSL.
      </div>
    <% else %>
      <div class="seed-grid">
        <% @seeds.each do |seed| %>
          <% parameter_count = seed.parameter_names.count %>
          <article class="seed-card">
            <div class="seed-card__header">
              <div>
                <div class="seed-card__title"><%= seed.name.to_s.humanize %></div>
                <div class="factory-card__meta"><%= seed.description %></div>
              </div>
              <span class="seed-card__tag"><%= pluralize(parameter_count, 'parameter') %></span>
            </div>

            <div class="seed-card__description">
              <% if seed.has_parameters? %>
                <% seed.parameter_names.each do |param_name| %>
                  <span class="seed-card__tag"><%= param_name.to_s.humanize %></span>
                <% end %>
              <% else %>
                <span class="seed-card__tag">No parameters</span>
              <% end %>
            </div>

            <div class="seed-card__actions">
              <%= link_to "Inspect & Run", custom_seed_path(seed.name), class: "btn btn-accent" %>
            </div>
          </article>
        <% end %>
      </div>
    <% end %>
  </div>
</div>
